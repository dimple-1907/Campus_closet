<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>User Dashboard - Campus Closet</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  <link rel="stylesheet" href="user.css" />
</head>
<body>
  <div class="user-container">
    <!-- Sidebar Navigation -->
    <aside class="user-sidebar">
      <div class="sidebar-header">
        <img src="https://via.placeholder.com/80x80?text=CC" alt="Campus Closet Logo" class="logo">
        <h2>User Dashboard</h2>
      </div>
      
      <nav class="sidebar-nav">
        <ul>
          <li class="active">
            <a href="#"><i class="fas fa-home"></i> Dashboard</a>
          </li>
          <li>
            <a href="home.html"><i class="fas fa-store"></i> Marketplace</a>
          </li>
          <li>
            <a href="sell.html"><i class="fas fa-tag"></i> Sell Items</a>
          </li>
          <li>
            <a href="#"><i class="fas fa-heart"></i> Wishlist</a>
          </li>
          <li>
            <a href="#"><i class="fas fa-comments"></i> Messages</a>
          </li>
        </ul>
      </nav>
      
      <div class="sidebar-footer">
        <div class="user-profile">
          
          <div>
            <h4>Student User</h4>
            <p>Regular Member</p>
          </div>
        </div>
        <a href="home.html" class="logout-btn"><i class="fas fa-sign-out-alt"></i> Logout</a>
      </div>
    </aside>

    <!-- Main Content -->
    <main class="user-main">
      <header class="user-header">
        <h1><i class="fas fa-home"></i> Dashboard Overview</h1>
        <div class="header-actions">
          <div class="notification-btn">
            <i class="fas fa-bell"></i>
            <span class="badge">2</span>
          </div>
        </div>
      </header>

      <div class="welcome-banner">
        <div class="welcome-text">
          <h2>Welcome back!</h2>
          <p>Here's what's happening with your account today.</p>
        </div>
        <div class="welcome-image">
        </div>
      </div>

      <div class="quick-actions">
        <h2><i class="fas fa-bolt"></i> Quick Actions</h2>
        <div class="action-grid">
          <a href="index.html" class="action-card">
            <div class="action-icon">
              <i class="fas fa-store"></i>
            </div>
            <h3>Browse Marketplace</h3>
            <p>View approved products and start chatting to buy</p>
          </a>

          <a href="sell.html" class="action-card">
            <div class="action-icon">
              <i class="fas fa-tag"></i>
            </div>
            <h3>Sell an Item</h3>
            <p>List your unused items and wait for admin approval</p>
          </a>

          <a href="#" class="action-card">
            <div class="action-icon">
              <i class="fas fa-comments"></i>
            </div>
            <h3>Your Messages</h3>
            <p>Check your conversations with buyers/sellers</p>
          </a>

          <a href="#" class="action-card">
            <div class="action-icon">
              <i class="fas fa-heart"></i>
            </div>
            <h3>Wishlist</h3>
            <p>View your saved items</p>
          </a>
        </div>
      </div>

      <div class="user-stats">
        <div class="stats-section">
          <h2><i class="fas fa-chart-line"></i> Your Activity</h2>
          <div class="stats-grid">
            <div class="stat-card">
              <div class="stat-icon">
                <i class="fas fa-shopping-cart"></i>
              </div>
              <div class="stat-info">
                <h3>Items Bought</h3>
                <h2>5</h2>
              </div>
            </div>
            <div class="stat-card">
              <div class="stat-icon">
                <i class="fas fa-tag"></i>
              </div>
              <div class="stat-info">
                <h3>Items Sold</h3>
                <h2>3</h2>
              </div>
            </div>
            <div class="stat-card">
              <div class="stat-icon">
                <i class="fas fa-clock"></i>
              </div>
              <div class="stat-info">
                <h3>Pending Listings</h3>
                <h2>2</h2>
              </div>
            </div>
          </div>
        </div>

        <div class="recent-section">
          <h2><i class="fas fa-history"></i> Recent Activity</h2>
          <div class="activity-list">
            <div class="activity-item">
              <div class="activity-icon">
                <i class="fas fa-check-circle"></i>
              </div>
              <div class="activity-details">
                <p>Your listing "Graphing Calculator" was approved</p>
                <span>2 hours ago</span>
              </div>
            </div>
            <div class="activity-item">
              <div class="activity-icon">
                <i class="fas fa-comment"></i>
              </div>
              <div class="activity-details">
                <p>New message from Priya about your textbook</p>
                <span>5 hours ago</span>
              </div>
            </div>
            <div class="activity-item">
              <div class="activity-icon">
                <i class="fas fa-heart"></i>
              </div>
              <div class="activity-details">
                <p>Someone saved your "Desk Lamp" to their wishlist</p>
                <span>1 day ago</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>
  </div>

  <script>
    // Get user data from localStorage
    document.addEventListener("DOMContentLoaded", () => {
      const loggedInUser = JSON.parse(localStorage.getItem("loggedInUser"));
      if (loggedInUser) {
        document.querySelector(".user-profile h4").textContent = loggedInUser.name || "Student User";
      }
      
      const user = JSON.parse(localStorage.getItem("loggedInUser"));
  if (user && user.role === "user") {
    window.location.href = "user.html"; // block access to product.html
  }
      // Add current date to welcome banner
      const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
      const today = new Date().toLocaleDateString('en-US', options);
      document.querySelector(".welcome-text p").textContent += ` Today is ${today}.`;
    });
  </script>
</body>
</html>